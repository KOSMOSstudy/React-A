# 5ì£¼ì°¨ React ìŠ¤í„°ë”” ì •ë¦¬

| ì¥   | ì œëª©                                 |
| ---- | ------------------------------------ |
| 13ì¥ | ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ë¡œ SPA ê°œë°œí•˜ê¸°         |
| 14ì¥ | ì™¸ë¶€ APIë¥¼ ì—°ë™í•˜ì—¬ ë‰´ìŠ¤ ë·°ì–´ ë§Œë“¤ê¸° |

## 13ì¥

### 13.1 SPAë€?

`SPA`: Single Page Application(ì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜)ì˜ ì•½ì–´

- í•œ ê°œì˜ í˜ì´ì§€ë¡œ ì´ë£¨ì–´ì§„ ì• í”Œë¦¬ì¼€ì´ì…˜
- ë¦¬ì•¡íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë·° ë Œë”ë§ì„ ì‚¬ìš©ìì˜ ì¸í„°ë™ì…˜ì´ ë°œìƒí•˜ë©´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—…ë°ì´íŠ¸

`ë¼ìš°íŒ…` : ë‹¤ë¥¸ ì£¼ì†Œì— ë‹¤ë¥¸ í™”ë©´ì„ ë³´ì—¬ ì£¼ëŠ” ê²ƒ

- ë¸Œë¼ìš°ì €ì˜ APIë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ê´€ë¦¬í•˜ê±°ë‚˜, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ì‘ì—…ì„ ë”ìš± ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ

`SPAì˜ ë‹¨ì ` : ì•±ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ë„ˆë¬´ ì»¤ì§(ë°©ë¬¸í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ” í˜ì´ì§€ì˜ ìŠ¤í¬ë¦½íŠ¸ë„ ë¶ˆëŸ¬ì˜´)
â†’ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ ì‚¬ìš©í•˜ì—¬ ë¼ìš°íŠ¸ë³„ë¡œ íŒŒì¼ë“¤ì„ ë‚˜ëˆ„ì–´ì„œ íŠ¸ë˜í”½ê³¼ ë¡œë”© ì†ë„ ê°œì„ 

### 13.2 í”„ë¡œì íŠ¸ ì¤€ë¹„ ë° ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•

ğŸš¨ ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•´ë´…ì‹œë‹¤!

- src/index.jsíŒŒì¼ì—ì„œ react-router-domì— ë‚´ì¥ë˜ì–´ ìˆëŠ” browserRouterì»´í¬ë„ŒíŠ¸ ì‚¬ìš©í•˜ì—¬ ê°ì‹¸ê¸° -ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— history APIë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³ ë„ ì£¼ì†Œ ë³€ê²½í•´ì¤Œ
- í˜„ì¬ ì£¼ì†Œì— ê´€ë ¨ëœ ì •ë³´ë¥¼ propsë¡œ ì‰½ê²Œ ì¡°íšŒí•˜ê±°ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤Œ

```javascript:app.js
const App = () => {
  return(
    <div>
      <Route path="/" component={Home} exact={true}/>
      <Route path="/about" component={About}/>
    </div>
  );
};
```

exactë¼ëŠ” propsë¥¼ trueë¡œ ì„¤ì •í•´ì¤„ ê²ƒ

ğŸš¨ Linkì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ì£¼ì†Œë¡œ ì´ë™í•´ë´…ì‹œë‹¤

- aíƒœê·¸ë¥¼ ì´ìš©í•˜ë©´ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ë¶ˆì–´ì˜¤ê¸° ë–„ë¬¸ì— ëª¨ë‘ ë‚ ë ¤ ë²„ë¦¬ê²Œ ë˜ì„œ ì‚¬ìš© ê¸ˆì§€
- Link ì»´í¬ë„ŒíŠ¸ ìì²´ëŠ” aíƒœê·¸ë¡œ ì´ë£¨ì–´ì ¸ ìˆì§€ë§Œ, í˜ì´ì§€ ì „í™˜ì„ ë°©ì§€í•˜ëŠ” ê¸°ëŠ¥ì´ ë‚´ì¥ë˜ì–´ ìˆìŒ

```javascript:app.js
const App = () => {
  return(
    <div>
      <ul>
        <li>
          <Link to="/">í™ˆ</Link>
        </li>
        <li>
          <Link to ="/about">ì†Œê°œ</Link>
        </li>
      </ul>
      <hr />
      <Route path="/" component={Home} exact={true}/>
      <Route path="/about" component={About}/>
    </div>
  );
};
```

### 13.3 Route í•˜ë‚˜ì— ì—¬ëŸ¬ ê°œì˜ path ì„¤ì •í•˜ê¸°

```javascript:app.js
const App = () => {
  return(
    <div>

      <Route path="/" component={Home} exact={true}/>
      <Route path={["/about",'/info']} component={About}/>
    </div>
  );
};
```

-> Routeë¥¼ ë‘ ë²ˆ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , path propsë¥¼ ë°°ì—´ë¡œ ì„¤ì •í•´ ì£¼ë©´ ì—¬ëŸ¬ ê²½ë¡œì—ì„œ
ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŒ

### 13.4 URL íŒŒë¼ë¯¸í„°ì™€ ì¿¼ë¦¬

í˜ì´ì§€ ì£¼ì†Œë¥¼ ì •ì˜í•  ë•Œ ê°€ë”ì€ ìœ ë™ì ì¸ ê°’ì„ ì „ë‹¬í•´ì•¼ í•  ë–„ê°€ ìˆìŒ

1. íŒŒë¼ë¯¸í„°: /profiles/velopert

```javascript:app.js
const App = () => {
  return(
    <div>
      <ul>
        <li>
          <Link to ="/">í™ˆ</Link>
        </li>
        <li>
          <Link to ="/about">ì†Œê°œ</Link>
        </li>
        <li>
          <Link to="/profile/velopert">velopert í”„ë¡œí•„</Link>
        </li>
        <li>
          <Link to="/profile/gildong">gildong í”„ë¡œí•„</Link>
        </li>
      </ul>

      <Route path="/" component={Home} exact={true}/>
      <Route path={["/about",'/info']} component={About}/>
      <Route path="/profile/:username" component={Profile}/>
    </div>
  );
};
```

```javascript:profile.js
import React from 'react';

const data={
    velopert: {
        name:'ê¹€ë¯¼ì¤€',
        description: 'ë¦¬ì•¡íŠ¸ë¥¼ ì¢‹ì•„í•˜ëŠ” ê°œë°œì'
    },
    gildong:{
        name:'í™ê¸¸ë™',
        description: 'ê³ ì „ ì†Œì„¤ í™ê¸¸ë™ì „ì˜ ì£¼ì¸ê³µ'
    }

};

const Profile = ({match})=>{
    const {username} = match.params;
    const profile = data[username];
    if(!profile){
        return <div>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìì…ë‹ˆë‹¤.</div>
    }
    return (
        <div>
            <h3>
                {username}({profile.name})
            </h3>
            <p>{profile.description}</p>
        </div>
    );
};

export default Profile;
```

- ê°ì²´ ì•ˆì˜ params ê°’ ì°¸ì¡°
- ì–´ë–¤ ê²½ë¡œ ê·œì¹™ì— ì˜í•´ ë³´ì´ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ìŒ

2. ì¿¼ë¦¬: /about?details=true

- ì¿¼ë¦¬ëŠ” location ê°ì²´ì— ë“¤ì–´ìˆëŠ” search ê°’ì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆìŒ
- location ê°ì²´ëŠ” ë¼ìš°íŠ¸ë¡œ ì‚¬ìš©ëœ ì»´í¬ë„ŒíŠ¸ì—ê²Œ propsë¡œ ì „ë‹¬ë˜ë©°,
  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í˜„ì¬ ì£¼ì†Œì— ëŒ€í•œ ì •ë³´ë¥¼ ì§€ë‹ˆê³  ìˆìŒ

### 13.5 ì„œë¸Œ ë¼ìš°íŠ¸

`ì„œë¸Œ ë¼ìš°íŠ¸`: ë¼ìš°íŠ¸ ë‚´ë¶€ì— ë˜ ë¼ìš°íŠ¸ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸

- ë¼ìš°íŠ¸ë¡œ ì‚¬ìš©ë˜ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ì— Route ì»´í¬ë„ŒíŠ¸ë¥¼ ë˜ ì‚¬ìš©í•˜ë©´ ë¨

```javascript:profile.js
import React from 'react';
import {Link, Route} from 'react-router-dom';
import Profile from './Profile';

const Profiles = () => {
    return(
        <div>
            <h3>ì‚¬ìš©ì ëª©ë¡: </h3>
            <ul>
                <li>
                    <Link to ="/profiles/velopert">velopert</Link>
                </li>
                <li>
                    <Link to ="/profiles/gildong">gildong</Link>
                </li>
            </ul>

            <Route
            path="/profiles"
            exactrender={()=> <div>ì‚¬ìš©ìë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>}
            />
            <Route path="/profiles/:username" component={Profile}/>
        </div>
    );
}

export default Profiles;
```

### 13.6 ë¦¬ì•¡íŠ¸ ë¼ìš°í„° ë¶€ê°€ ê¸°ëŠ¥

1. history

- ë¼ìš°í„°ë¡œ ì‚¬ìš©ëœ ì»´í¬ë„ŒíŠ¸ì— match, locationê³¼ í•¨ê»˜ ì „ë‹¬ë˜ëŠ” Props ì¤‘ í•˜ë‚˜ë¡œ, ì´ ê°ì²´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ ë‚´ì— êµ¬í˜„í•˜ëŠ” ë©”ì„œë“œì—ì„œ ë¼ìš°í„° APIë¥¼ í˜¸ì¶œ í•  ìˆ˜ ìˆìŒ
- ë’¤ë¡œê°€ê±°ë‚˜ ë¡œê·¸ì¸ í›„ í™”ë©´ ì „í™˜í•˜ê±°ë‚˜, ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´íƒˆí•˜ëŠ” ê²ƒì„ ë°©ì§€

```javascript:history.js
import React, {Component} from 'react';

class HistorySample extends Component{
    handleGoBack = () => {
        this.props.history.goBack();
    };

    handleGoHome=() => {
        this.props.history.push('/');
    };

    componentDidMount(){
        //ì´ê²ƒì„ ì„¤ì •í•˜ê³  ë‚˜ë©´ í˜ì´ì§€ì— ë³€í™”ê°€ ìƒê¸°ë ¤ê³  í•  ë•Œë§ˆë‹¤ ì •ë§ ë‚˜ê°ˆ ê²ƒì¸ì§€ë¥¼ ì§ˆë¬¸í•¨
        this.unblock=this.props.history.block('ì •ë§ ë– ë‚˜ì‹¤ê±´ê°€ìš”?');
    }

    componentWillUnmount(){
        if(this.unblock){
            this.unblock();
        }
    }
    render(){
        return(
            <div>
                <button onClick={this.handleBoBack}>ë’¤ë¡œ</button>
                <button onClick={this.handleBoHome}>í™ˆìœ¼ë¡œ</button>
            </div>
        );
    }

}
export default HistorySample;

```

2. withRouter

- HoC(higher-order Component)ì„
- ë¼ìš°í„°ë¡œ ì‚¬ìš©ëœ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹ˆì–´ë„ match, location,history ê°ì²´ë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•¨

```javascript:WithRouterSample.js
import React from 'react';
import {withRouter} from 'react-router-dom';
const WithRouterSample = ({location, match, history})=> {
    return(
        <div>
            <h4>location</h4>
            <textarea
            value={JSON.stringify(location,null,2)}
            rows={7}
            readOnly={true}
            />
            <h4>match</h4>
            <textarea
            value={JSON.stringify(match, null, 2)}
            rows={7}
            readOnly={true}
            />
            <button onClick={()=> history.push('/')}>í™ˆìœ¼ë¡œ</button>
        </div>
    );
};

export default withRouter(WithRouterSample);

```

3. Switch

- ì—¬ëŸ¬ Routeë¥¼ ê°ì‹¸ì„œ ê·¸ì¤‘ ì¼ì¹˜í•˜ëŠ” ë‹¨ í•˜ë‚˜ì˜ ë¼ìš°íŠ¸ë§Œì„ ë Œë”ë§ì‹œì¼œì£¼ëŠ” ê²ƒ
- not Found í˜ì´ì§€ë„ êµ¬í˜„í•  ìˆ˜ ìˆìŒ

```javascript:app.js
<Switch>
      <Route path="/" component={Home} exact={true}/>
      <Route path={["/about",'/info']} component={About}/>
      <Route path="/profiles" component={Profiles} />
      <Route path="/history" component={HistorySample}/>
      <Route
        render={({location})=>(
          <div>
            <h2>ì´ í˜ì´ì§€ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:</h2>
            <p>{location.pathname}</p>
          </div>
        )}
        />
      </Switch>
```

pathë¥¼ ë”°ë¡œ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  ìƒí™©ì— ë Œë”ë§ ë¨ = ì •ì˜ë˜ì§€ ì•Šì€ pathì— ëŒ€í•´ì„œ
not found ë„ìš°ê¸°

4. NavLink

- í˜„ì¬ ê²½ë¡œì™€ Linkì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ë¡œê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš° íŠ¹ì • ìŠ¤íƒ€ì¼ í˜¹ì€ CSSí´ë˜ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸

```javascript:profile.js
import React from 'react';
import {NavLink, Route} from 'react-router-dom';
import Profile from './Profile';


const Profiles = () => {
    const activeStyle={
        background: 'black',
        color: 'white'
    };
    return(
        <div>
            <h3>ì‚¬ìš©ì ëª©ë¡: </h3>
            <ul>
                <li>
                    <NavLink activeStyle={activeStyle} to="/profiles/velopert" active>velopert</NavLink>
                </li>
                <li>
                <NavLink activeStyle={activeStyle} to="/profiles/gildong" active>gildong</NavLink>
                </li>
            </ul>

            <Route
            path="/profiles"
            exactrender={()=> <div>ì‚¬ìš©ìë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>}
            />
            <Route path="/profiles/:username" component={Profile}/>
            {/* <WithRouterSample /> */}
        </div>
    );
}

export default Profiles;
```

### 13.7 ì •ë¦¬

ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œ ê²½ë¡œì— ë”°ë¼ ë‹¤ì–‘í•œ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¹µë²•
ìµœì¢… ê²°ê³¼ë¬¼ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì˜ í¬ê¸°ê°€ ë§¤ìš° ì»¤ì ¸
ë‹¹ì¥ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¶ˆëŸ¬ì˜¤ë„ë¡ êµ¬í˜„í•˜ê¸° -> 19ì¥ì—ì„œ ê³„ì†,,,

## 14ì¥

### 14.1 ë¹„ë™ê¸° ì‘ì—…ì˜ ì´í•´

-ì‘ë‹µì„ ë°›ì„ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì „ë‹¬ë°›ì€ ì‘ë‹µ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •(ì„œë²„ì˜ APIë¥¼ ì‚¬ìš©í•  ë•Œ)ì—ì„œëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•¨ -ë™ê¸°ì  ì²˜ë¦¬: ìš”ì²­ì´ ëë‚  ë–„ê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ì¤‘ì§€ ìƒíƒœ, ë‹¤ë¥¸ì‘ì—… X -ë¹„ë™ê¸°ì  ì²˜ë¦¬: ë™ì‹œì— ì—¬ëŸ¬ê°€ì§€ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê³ , ê¸°ë‹¤ë¦¬ëŠ” ê³¼ì •ì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ í˜¸ì¶œ O

- setTimeout í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‘ì—… ì˜ˆì•½
- printMeí•¨ìˆ˜ ìì²´ë¥¼ setTimeout í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ -> ì½œë°± í•¨ìˆ˜

1. ì½œë°± í•¨ìˆ˜ : 1ì´ˆë’¤ì— 10ì„ ë”í•´ì„œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ -> ì½œë°±ì§€ì˜¥ ìƒì„± ê°€ëŠ¥ì„±

2. Promise : ì½œë°±ì§€ì˜¥ í˜•ì„±ë˜ì§€ ì•Šë„ë¡ í•˜ê¸° -> thenì„ ì‚¬ìš©í•˜ì—¬ ê·¸ ë‹¤ìŒ ì‘ì—…ì„ ì„¤ì •(ì½œë°±ì§€ì˜¥ X)

3. asycn/await : promiseë¥¼ ë”ìš± ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë˜ë¡ í•´ì£¼ëŠ” ë¬¸ë²•

- í•¨ìˆ˜ ì• ë¶€ë¶„ì—ëŠ” async í‚¤ì›Œë“œ ì¶”ê°€, í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ promiseì˜ ì•ë¶€ë¶„ì— await í‚¤ì›Œë“œ ì‚¬ìš©

### 14.2 axiosë¡œ API í˜¸ì¶œí•´ì„œ ë°ì´í„° ë°›ì•„ ì˜¤ê¸°

asyncì ìš©í•´ë³´ê¸°

```javascript:App.js
import React, {useState} from 'react';
import axios from 'axios';

const App =  () => {
  const[data, setData] = useState(null);
  const onClick = async() => {
    try{
      const response = await axios.get(
        'https://jsonplaceholder.typicode.com/todos/1'
      );
      setData(response.data);
    }catch(e){
      console.log(e);
    }

  };
  return(
    <div>
      <div>
        <button onClick={onClick}>ë¶ˆëŸ¬ì˜¤ê¸°</button>
      </div>
      {data && <textarea rows={7} value={JSON.stringify(data,null,2)} readOnly={true}/>}
    </div>
  );
};

export default App;

```

### 14.3 newsapi API í‚¤ ë°œê¸‰ë°›ê¸°

1. APIí‚¤ ë°œê¸‰ë°›ê¸°
2. í•œêµ­ë‰´ìŠ¤ ê°€ì ¸ì˜¤ëŠ” API í‚¤ ê°€ì ¸ì˜¤ê¸°

### 14.4 ë‰´ìŠ¤ ë·°ì–´ UI ë§Œë“¤ê¸°

1. NewsItem ë§Œë“¤ê¸°: ê° ë‰´ìŠ¤ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸
2. NewsList ë§Œë“¤ê¸°: API ìš”ì²­

---

ì§ˆë¬¸, ì´í•´ê°€ ì•ˆ ê°”ë˜ ê²ƒ, ê¶ê¸ˆí•œ ê²ƒ, ìŠ¤í„°ë””ì¥ì´ë‚˜ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ë¬¼ì–´ë³´ê³  ì‹¶ì€ ê²ƒ, ê¸°íƒ€ ë“±ë“±ì´ ìˆìœ¼ì‹œë©´ ì¨ì£¼ì‹œê³ , ì´ ë¬¸êµ¬ëŠ” ì§€ì›Œì£¼ì„¸ìš”!
